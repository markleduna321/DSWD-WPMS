import{r as p,j as e}from"./app-C3YoAUYN.js";import o from"./button-BZi__VSe.js";import t from"./input-label-component-BTHVwU9u.js";import b from"./input-select-C8beC5ms.js";import l from"./input-text-component-BdWWvd1C.js";import q from"./modal-DogVpkXZ.js";import{F as v}from"./PlusIcon-D6938Yre.js";import{F as M}from"./XMarkIcon-D17UOICr.js";function I(){const[g,j]=p.useState(!1),[s,N]=p.useState({name:"",address:"",email:"",contact_number:"",role_id:""}),[c,x]=p.useState([]),f=()=>j(!0),h=()=>j(!1),r=i=>{const{name:a,value:n}=i.target;N(m=>({...m,[a]:n}))},d=(i,a)=>{const{name:n,value:m}=a.target,u=[...c];u[i]={...u[i],[n]:m},x(u)},y=()=>{x([...c,{firstName:"",lastName:"",middleName:"",extName:"",gender:"",dob:"",relation:""}])},C=i=>{const a=c.filter((n,m)=>m!==i);x(a)},_=async i=>{i.preventDefault();try{const a={name:s.name,address:s.address,email:s.email,contact_number:s.contact_number,role_id:s.role_id};await store.dispatch(create_profiling_thunk(a)),await store.dispatch(get_profiling_thunk()),h()}catch(a){console.error("Error saving product:",a)}},F=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],T=[{value:"Single",label:"Single"},{value:"Merried",label:"Merried"},{value:"Widowed",label:"Widowed"},{value:"Seperated",label:"Seperated"}];return e.jsx("div",{children:e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsx(o,{type:"button",variant:"primary",size:"md",isLoading:!1,disabled:!1,icon:e.jsx(v,{className:"h-5 w-5"}),onClick:f,children:"Add Content"}),e.jsxs(q,{isOpen:g,onClose:h,width:"w-3/4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"FAMILY ASSISTANCE IN EMERGENCY AND DISASTER (FACED)"}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-4rem)] sm:max-h-[calc(100vh-8rem)]",children:e.jsxs("form",{onSubmit:_,children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Location of the affected family"}),e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsxs("div",{className:"w-full md:flex-1",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"region",labelText:"Region"}),e.jsx(l,{id:"region",name:"region",type:"text",required:!0,value:s.purok,placeholder:"Region",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"province",labelText:"Province"}),e.jsx(l,{id:"province",name:"province",type:"text",required:!0,value:s.barangay,placeholder:"Province",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"disctrict",labelText:"District"}),e.jsx(l,{id:"disctrict",name:"disctrict",type:"text",required:!0,value:s.city,placeholder:"District",onChange:r})]})]}),e.jsxs("div",{className:"w-full md:flex-1",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"city",labelText:"City/Municipality"}),e.jsx(l,{id:"city",name:"city",type:"text",required:!0,value:s.city,placeholder:"City/Municipality",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"barangay",labelText:"Barangay"}),e.jsx(l,{id:"barangay",name:"barangay",type:"text",required:!0,value:s.barangay,placeholder:"Barangay",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"evacuation_site",labelText:"Evacuation Site"}),e.jsx(l,{id:"evacuation_site",name:"evacuation_site",type:"text",required:!0,value:s.purok,placeholder:"Evacuation Site",onChange:r})]})]})]}),e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Head of the family"}),e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsxs("div",{className:"w-full md:flex-1",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"last_name",labelText:"Last Name"}),e.jsx(l,{id:"last_name",name:"last_name",type:"text",required:!0,value:s.last_name,placeholder:"Last Name",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"first_name",labelText:"First Name"}),e.jsx(l,{id:"first_name",name:"first_name",type:"text",required:!0,value:s.first_name,placeholder:"First Name",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"middle_name",labelText:"Middle Name"}),e.jsx(l,{id:"middle_name",name:"middle_name",type:"text",required:!0,value:s.middle_name,placeholder:"Middle Name",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"extension_name",labelText:"Extension (Jr., Sr. etc.)"}),e.jsx(l,{id:"extension_name",name:"extension_name",type:"text",required:!0,value:s.extension_name,placeholder:"Jr., Sr. etc.",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"age",labelText:"Age"}),e.jsx(l,{id:"age",name:"age",type:"text",required:!0,value:s.first_name,placeholder:"Age",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"gender",labelText:"Gender"}),e.jsx(b,{id:"gender",name:"gender",value:s.gender,onChange:r,options:F,required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"birthday",labelText:"Date of Birth"}),e.jsx(l,{id:"birthday",name:"birthday",type:"date",required:!0,value:s.birthday,onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"birth_place",labelText:"Birth Place"}),e.jsx(l,{id:"birth_place",name:"birth_place",type:"text",required:!0,value:s.extension_name,placeholder:"Birth Place",onChange:r})]})]}),e.jsxs("div",{className:"w-full md:flex-1",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"civil_status",labelText:"Civil Status"}),e.jsx(b,{id:"civil_status",name:"civil_status",value:s.civil_status,onChange:r,options:T,required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"mothername",labelText:"Mother's Maiden Name"}),e.jsx(l,{id:"mothername",name:"mothername",type:"text",required:!0,value:s.extension_name,placeholder:"Mother's Maiden Name",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"religion",labelText:"Religion"}),e.jsx(l,{id:"religion",name:"religion",type:"text",required:!0,value:s.extension_name,placeholder:"Religion",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"occupation",labelText:"Occupation"}),e.jsx(l,{id:"occupation",name:"occupation",type:"text",required:!0,value:s.extension_name,placeholder:"Occupation",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"income",labelText:"Monthly Family NET Income"}),e.jsx(l,{id:"income",name:"income",type:"text",required:!0,value:s.extension_name,placeholder:"Monthly Family NET Income",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"idcardpresented",labelText:"ID Card Presented"}),e.jsx(l,{id:"idcardpresented",name:"idcardpresented",type:"text",required:!0,value:s.extension_name,placeholder:"ID Card Presented",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"idcardnumber",labelText:"ID Card Number"}),e.jsx(l,{id:"idcardnumber",name:"idcardnumber",type:"text",required:!0,value:s.extension_name,placeholder:"ID Card Number",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"contactnumber",labelText:"Contact Number"}),e.jsx(l,{id:"contactnumber",name:"contactnumber",type:"number",required:!0,value:s.extension_name,placeholder:"Contact Number",onChange:r})]}),e.jsx("div",{className:"mb-4",children:e.jsx(l,{id:"role_id",name:"role_id",type:"hidden",required:!0,value:s.role_id,onChange:r})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(t,{htmlFor:"permanentaddress",labelText:"Permanent Address"}),e.jsx(l,{id:"permanentaddress",name:"permanentaddress",type:"text",required:!0,value:s.extension_name,placeholder:"Permanent Address",onChange:r})]}),e.jsxs("div",{className:"flex justify-start gap-3 pt-10",children:[e.jsx("div",{className:"px-4 sm:px-0",children:e.jsx("h3",{className:"text-lg font-semibold leading-7 text-gray-900",children:"Family Members"})}),e.jsx("div",{className:"",children:e.jsx("div",{children:e.jsx("div",{className:"",children:e.jsx(o,{type:"button",variant:"success",size:"sm",onClick:y,children:e.jsx(v,{className:"h-5 w-5"})})})})})]}),c.map((i,a)=>e.jsxs("div",{className:"mb-4 border p-4 rounded-md",children:[e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(t,{htmlFor:`fullname-${a}`,labelText:"Full Name"}),e.jsx(l,{id:`fullname-${a}`,name:"fullname",type:"text",required:!0,value:i.fullname,placeholder:"Full Name",onChange:n=>d(a,n)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(t,{htmlFor:`relation-${a}`,labelText:"Relation"}),e.jsx(l,{id:`relation-${a}`,name:"relation",type:"text",required:!0,value:i.relation,placeholder:"Relation",onChange:n=>d(a,n)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(t,{htmlFor:`birthdate-${a}`,labelText:"Birth Date"}),e.jsx(l,{id:`birthdate-${a}`,name:"birthdate",type:"date",required:!0,value:i.birthdate,placeholder:"Birth Date",onChange:n=>d(a,n)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(t,{htmlFor:`age-${a}`,labelText:"Age"}),e.jsx(l,{id:`age-${a}`,name:"age",type:"number",required:!0,value:i.birthdate,placeholder:"Age",onChange:n=>d(a,n)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(t,{htmlFor:`sex-${a}`,labelText:"Sex"}),e.jsx(l,{id:`sex-${a}`,name:"sex",type:"number",required:!0,value:i.sex,placeholder:"Sex",onChange:n=>d(a,n)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(t,{htmlFor:`age-${a}`,labelText:"Highest Education"}),e.jsx(l,{id:`highest_educational_attainment-${a}`,name:"highest_educational_attainment",type:"number",required:!0,value:i.highest_educational_attainment,placeholder:"Highest Educational Attainment",onChange:n=>d(a,n)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(t,{htmlFor:`occupation-${a}`,labelText:"Occupation"}),e.jsx(l,{id:`occupation-${a}`,name:"occupation",type:"text",required:!0,value:i.occupation,placeholder:"Occupation",onChange:n=>d(a,n)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(t,{htmlFor:`remarks-${a}`,labelText:"Remarks"}),e.jsx(l,{id:`remarks-${a}`,name:"remarks",type:"text",required:!0,value:i.remarks,placeholder:"Remarks",onChange:n=>d(a,n)})]})]}),e.jsx("div",{className:"flex gap-4 mt-4",children:e.jsx(o,{type:"button",variant:"danger",size:"sm",onClick:()=>C(a),children:"Remove Member"})})]},a)),e.jsxs("div",{className:"flex flex-col md:flex-row justify-end gap-4 mt-4",children:[e.jsx(o,{type:"submit",variant:"primary",size:"md",isLoading:!1,disabled:!1,children:"Save"}),e.jsx(o,{type:"button",variant:"danger",size:"md",isLoading:!1,disabled:!1,onClick:h,children:e.jsx(M,{className:"h-5 w-5"})})]})]})})]})]})})}export{I as default};
