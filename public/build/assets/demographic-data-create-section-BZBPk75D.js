import{r as p,j as e}from"./app-BxkqB-UE.js";import m from"./button-CvLnpFN8.js";import l from"./input-label-component-BbuYs4we.js";import b from"./input-select-CEixrtD-.js";import t from"./input-text-component-DTq4SU3m.js";import M from"./modal-EaVt-0RE.js";import{F as v}from"./PlusIcon-BK2agr_j.js";import{F as q}from"./XMarkIcon-DzRMCfnD.js";function z(){const[f,j]=p.useState(!1),[s,N]=p.useState({name:"",address:"",email:"",contact_number:"",role_id:""}),[o,c]=p.useState([]),g=()=>j(!0),x=()=>j(!1),r=i=>{const{name:a,value:n}=i.target;N(d=>({...d,[a]:n}))},h=(i,a)=>{const{name:n,value:d}=a.target,u=[...o];u[i]={...u[i],[n]:d},c(u)},y=()=>{c([...o,{firstName:"",lastName:"",middleName:"",extName:"",gender:"",dob:"",relation:""}])},_=i=>{const a=o.filter((n,d)=>d!==i);c(a)},C=async i=>{i.preventDefault();try{const a={name:s.name,address:s.address,email:s.email,contact_number:s.contact_number,role_id:s.role_id};await store.dispatch(create_profiling_thunk(a)),await store.dispatch(get_profiling_thunk()),x()}catch(a){console.error("Error saving product:",a)}},F=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],w=[{value:"Single",label:"Single"},{value:"Merried",label:"Merried"},{value:"Widowed",label:"Widowed"},{value:"Seperated",label:"Seperated"}];return e.jsx("div",{children:e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsx(m,{type:"button",variant:"primary",size:"md",isLoading:!1,disabled:!1,icon:e.jsx(v,{className:"h-5 w-5"}),onClick:g,children:"Add Content"}),e.jsxs(M,{isOpen:f,onClose:x,width:"w-3/4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Input Household Data"}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-4rem)] sm:max-h-[calc(100vh-8rem)]",children:e.jsxs("form",{onSubmit:C,children:[e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsxs("div",{className:"w-full md:flex-1",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"last_name",labelText:"Last Name"}),e.jsx(t,{id:"last_name",name:"last_name",type:"text",required:!0,value:s.last_name,placeholder:"Last Name",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"first_name",labelText:"First Name"}),e.jsx(t,{id:"first_name",name:"first_name",type:"text",required:!0,value:s.first_name,placeholder:"First Name",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"middle_name",labelText:"Middle Name"}),e.jsx(t,{id:"middle_name",name:"middle_name",type:"text",required:!0,value:s.middle_name,placeholder:"Middle Name",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"extension_name",labelText:"Extension (Jr., Sr. etc.)"}),e.jsx(t,{id:"extension_name",name:"extension_name",type:"text",required:!0,value:s.extension_name,placeholder:"Jr., Sr. etc.",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"gender",labelText:"Gender"}),e.jsx(b,{id:"gender",name:"gender",value:s.gender,onChange:r,options:F,required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"contact_number",labelText:"Contact #"}),e.jsx(t,{id:"contact_number",name:"contact_number",type:"number",required:!0,value:s.contact_number,placeholder:"09*******",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"birthday",labelText:"Date of Birth"}),e.jsx(t,{id:"birthday",name:"birthday",type:"date",required:!0,value:s.birthday,onChange:r})]})]}),e.jsxs("div",{className:"w-full md:flex-1",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"civil_status",labelText:"Civil Status"}),e.jsx(b,{id:"civil_status",name:"civil_status",value:s.civil_status,onChange:r,options:w,required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"email",labelText:"Email"}),e.jsx(t,{id:"email",name:"email",type:"email",required:!0,value:s.email,placeholder:"Email",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"password",labelText:"Password"}),e.jsx(t,{id:"password",name:"password",type:"password",required:!0,value:s.password,placeholder:"Password",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("hr",{}),"Address",e.jsx("hr",{})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"purok",labelText:"Purok"}),e.jsx(t,{id:"purok",name:"purok",type:"text",required:!0,value:s.purok,placeholder:"Purok",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"barangay",labelText:"Barangay"}),e.jsx(t,{id:"barangay",name:"barangay",type:"text",required:!0,value:s.barangay,placeholder:"Barangay",onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(l,{htmlFor:"city",labelText:"City/Municipality"}),e.jsx(t,{id:"city",name:"city",type:"text",required:!0,value:s.city,placeholder:"City/Municipality",onChange:r})]}),e.jsx("div",{className:"mb-4",children:e.jsx(t,{id:"role_id",name:"role_id",type:"hidden",required:!0,value:s.role_id,onChange:r})})]})]}),e.jsxs("div",{className:"flex justify-start gap-3 pt-10",children:[e.jsx("div",{className:"px-4 sm:px-0",children:e.jsx("h3",{className:"text-lg font-semibold leading-7 text-gray-900",children:"Family Members"})}),e.jsx("div",{className:"",children:e.jsx("div",{children:e.jsx("div",{className:"",children:e.jsx(m,{type:"button",variant:"success",size:"sm",onClick:y,children:e.jsx(v,{className:"h-5 w-5"})})})})})]}),o.map((i,a)=>e.jsxs("div",{className:"mb-4 border p-4 rounded-md",children:[e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:`firstName-${a}`,labelText:"First Name"}),e.jsx(t,{id:`firstName-${a}`,name:"firstName",type:"text",required:!0,value:i.firstName,placeholder:"First Name",onChange:n=>h(a,n)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:`lastName-${a}`,labelText:"Last Name"}),e.jsx(t,{id:`lastName-${a}`,name:"lastName",type:"text",required:!0,value:i.lastName,placeholder:"Last Name",onChange:n=>h(a,n)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx(l,{htmlFor:`relation-${a}`,labelText:"Relation"}),e.jsx(t,{id:`relation-${a}`,name:"relation",type:"text",required:!0,value:i.relation,placeholder:"Relation",onChange:n=>h(a,n)})]})]}),e.jsx("div",{className:"flex gap-4 mt-4",children:e.jsx(m,{type:"button",variant:"danger",size:"sm",onClick:()=>_(a),children:"Remove Member"})})]},a)),e.jsxs("div",{className:"flex flex-col md:flex-row justify-end gap-4 mt-4",children:[e.jsx(m,{type:"submit",variant:"primary",size:"md",isLoading:!1,disabled:!1,children:"Save"}),e.jsx(m,{type:"button",variant:"danger",size:"md",isLoading:!1,disabled:!1,onClick:x,children:e.jsx(q,{className:"h-5 w-5"})})]})]})})]})]})})}export{z as default};
